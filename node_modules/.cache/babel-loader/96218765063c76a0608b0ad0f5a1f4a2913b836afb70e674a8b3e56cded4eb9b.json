{"ast":null,"code":"import { required } from '@vuelidate/validators';\nimport useVuelidate from '@vuelidate/core';\nimport BaseInput from 'presentation/components/BaseInput/BaseInput.vue';\nimport BaseForm from 'presentation/components/BaseForm/BaseForm.vue';\nimport ServerError from 'presentation/components/ServerError/ServerError.vue';\nimport LoadingButton from 'presentation/components/LoadingButton/LoadingButton.vue';\nimport { useI18n } from 'vue-i18n';\nimport translation from './ResetPassword.json';\nimport { ref } from 'vue';\nimport useCustomerTools from 'hooks/useCustomerTools';\nfunction Rules(form) {\n  const sameAs = value => value === form.value.newPassword;\n  this.newPassword = {\n    required\n  };\n  this.confirmPassword = {\n    required,\n    sameAsPassword: sameAs\n  };\n}\nexport default {\n  components: {\n    BaseForm,\n    BaseInput,\n    LoadingButton,\n    ServerError\n  },\n  setup() {\n    const {\n      t\n    } = useI18n({\n      messages: translation\n    });\n    const form = ref({});\n    const rules = new Rules(form);\n    const v = useVuelidate(rules, form);\n    const {\n      resetPassword: rp,\n      token\n    } = useCustomerTools();\n    const resetPassword = () => rp({\n      token,\n      newPassword: form.value.newPassword\n    });\n    function getErrorMessage({\n      code\n    }) {\n      if (code === 'InvalidSubject') {\n        return t('invalidSubject');\n      }\n      return t('unknownError');\n    }\n    return {\n      t,\n      v,\n      resetPassword,\n      getErrorMessage\n    };\n  }\n};","map":{"version":3,"names":["required","useVuelidate","BaseInput","BaseForm","ServerError","LoadingButton","useI18n","translation","ref","useCustomerTools","Rules","form","sameAs","value","newPassword","confirmPassword","sameAsPassword","components","setup","t","messages","rules","v","resetPassword","rp","token","getErrorMessage","code"],"sources":["/Users/souvitroy/Downloads/commercetools/ctools/src/presentation/fashion/User/ResetPassword/ResetPassword.js"],"sourcesContent":["import { required } from '@vuelidate/validators';\r\nimport useVuelidate from '@vuelidate/core';\r\nimport BaseInput from 'presentation/components/BaseInput/BaseInput.vue';\r\nimport BaseForm from 'presentation/components/BaseForm/BaseForm.vue';\r\nimport ServerError from 'presentation/components/ServerError/ServerError.vue';\r\nimport LoadingButton from 'presentation/components/LoadingButton/LoadingButton.vue';\r\nimport { useI18n } from 'vue-i18n';\r\nimport translation from './ResetPassword.json'\r\nimport { ref } from 'vue';\r\nimport useCustomerTools from 'hooks/useCustomerTools';\r\nfunction Rules(form) {\r\n  const sameAs = (value) =>\r\n    value === form.value.newPassword;\r\n  this.newPassword = { required };\r\n  this.confirmPassword = {\r\n    required,\r\n    sameAsPassword: sameAs,\r\n  };\r\n}\r\n\r\nexport default {\r\n  components: {\r\n    BaseForm,\r\n    BaseInput,\r\n    LoadingButton,\r\n    ServerError,\r\n  },\r\n  setup() {\r\n    const { t } = useI18n({\r\n      messages: translation\r\n    });\r\n    const form = ref({});\r\n    const rules = new Rules(form);\r\n    const v = useVuelidate(rules, form);\r\n    const { resetPassword: rp, token } = useCustomerTools();\r\n    const resetPassword = () =>\r\n      rp({\r\n        token,\r\n        newPassword: form.value.newPassword,\r\n      });\r\n\r\n    function getErrorMessage({ code }) {\r\n      if (code === 'InvalidSubject') {\r\n        return t('invalidSubject');\r\n      }\r\n      return t('unknownError');\r\n    }\r\n\r\n    return {\r\n      t,\r\n      v,\r\n      resetPassword,\r\n      getErrorMessage,\r\n    };\r\n  },\r\n};\r\n"],"mappings":"AAAA,SAASA,QAAQ,QAAQ,uBAAuB;AAChD,OAAOC,YAAY,MAAM,iBAAiB;AAC1C,OAAOC,SAAS,MAAM,iDAAiD;AACvE,OAAOC,QAAQ,MAAM,+CAA+C;AACpE,OAAOC,WAAW,MAAM,qDAAqD;AAC7E,OAAOC,aAAa,MAAM,yDAAyD;AACnF,SAASC,OAAO,QAAQ,UAAU;AAClC,OAAOC,WAAW,MAAM,sBAAsB;AAC9C,SAASC,GAAG,QAAQ,KAAK;AACzB,OAAOC,gBAAgB,MAAM,wBAAwB;AACrD,SAASC,KAAK,CAACC,IAAI,EAAE;EACnB,MAAMC,MAAM,GAAIC,KAAK,IACnBA,KAAK,KAAKF,IAAI,CAACE,KAAK,CAACC,WAAW;EAClC,IAAI,CAACA,WAAW,GAAG;IAAEd;EAAS,CAAC;EAC/B,IAAI,CAACe,eAAe,GAAG;IACrBf,QAAQ;IACRgB,cAAc,EAAEJ;EAClB,CAAC;AACH;AAEA,eAAe;EACbK,UAAU,EAAE;IACVd,QAAQ;IACRD,SAAS;IACTG,aAAa;IACbD;EACF,CAAC;EACDc,KAAK,GAAG;IACN,MAAM;MAAEC;IAAE,CAAC,GAAGb,OAAO,CAAC;MACpBc,QAAQ,EAAEb;IACZ,CAAC,CAAC;IACF,MAAMI,IAAI,GAAGH,GAAG,CAAC,CAAC,CAAC,CAAC;IACpB,MAAMa,KAAK,GAAG,IAAIX,KAAK,CAACC,IAAI,CAAC;IAC7B,MAAMW,CAAC,GAAGrB,YAAY,CAACoB,KAAK,EAAEV,IAAI,CAAC;IACnC,MAAM;MAAEY,aAAa,EAAEC,EAAE;MAAEC;IAAM,CAAC,GAAGhB,gBAAgB,EAAE;IACvD,MAAMc,aAAa,GAAG,MACpBC,EAAE,CAAC;MACDC,KAAK;MACLX,WAAW,EAAEH,IAAI,CAACE,KAAK,CAACC;IAC1B,CAAC,CAAC;IAEJ,SAASY,eAAe,CAAC;MAAEC;IAAK,CAAC,EAAE;MACjC,IAAIA,IAAI,KAAK,gBAAgB,EAAE;QAC7B,OAAOR,CAAC,CAAC,gBAAgB,CAAC;MAC5B;MACA,OAAOA,CAAC,CAAC,cAAc,CAAC;IAC1B;IAEA,OAAO;MACLA,CAAC;MACDG,CAAC;MACDC,aAAa;MACbG;IACF,CAAC;EACH;AACF,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}