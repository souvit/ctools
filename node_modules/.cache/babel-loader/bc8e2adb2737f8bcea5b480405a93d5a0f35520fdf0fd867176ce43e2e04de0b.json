{"ast":null,"code":"// @todo: add scrollbar\n// import VuePerfectScrollbar from \"vue-perfect-scrollbar\";\nimport Payment from 'presentation/PageCheckout/Payment/Payment.vue';\nimport PaymentMethod from './PaymentMethod/PaymentMethod.vue';\nimport BasePrice from 'presentation/components/BasePrice/BasePrice.vue';\nimport { useI18n } from 'vue-i18n';\nimport translation from \"./OrderOverview.json\";\nimport ShippingMethod from './ShippingMethod/ShippingMethod.vue';\nimport { ref } from 'vue';\nimport useCartTools from 'hooks/useCartTools';\nexport default {\n  props: {\n    showError: {\n      type: Boolean,\n      required: false\n    },\n    cart: {\n      type: Object,\n      required: true\n    },\n    paymentMethod: {\n      type: String,\n      required: true\n    }\n  },\n  components: {\n    ShippingMethod,\n    BasePrice,\n    PaymentMethod,\n    Payment\n    // VuePerfectScrollbar,\n  },\n\n  setup(props, {\n    emit\n  }) {\n    const {\n      t\n    } = useI18n({\n      messages: translation\n    });\n    const paid = ref(true);\n    const paymentId = ref(null);\n    const paymentMethod = ref(null);\n    const cardPaid = paymentId => {\n      if (paymentId) {\n        paymentId.value = paymentId;\n      }\n      paid.value = true;\n    };\n    const updateShippingMethod = shippingId => {\n      emit('update-shipping', shippingId);\n    };\n    const placeOrder = () => {\n      emit('complete-order', {\n        payId: paymentId.value,\n        payMethod: paymentMethod.value\n      });\n      //emit('complete-order', { payId: \"test ref\", payMethod: \"test card\" });\n    };\n\n    const paymentChanged = value => emit('payment-changed', value);\n    const paymentStatus = idata => {\n      console.log(idata);\n      //if (idata?.resultCode == \"Authorised\") {\n      paid.value = true;\n      paymentId.value = idata.paymentRef;\n      paymentMethod.value = idata.payMethod;\n\n      //}\n    };\n\n    return {\n      ...useCartTools(),\n      t,\n      cardPaid,\n      updateShippingMethod,\n      paymentId,\n      paid,\n      paymentMethod: props.paymentMethod,\n      paymentChanged,\n      placeOrder,\n      paymentStatus\n    };\n  }\n};","map":{"version":3,"names":["Payment","PaymentMethod","BasePrice","useI18n","translation","ShippingMethod","ref","useCartTools","props","showError","type","Boolean","required","cart","Object","paymentMethod","String","components","setup","emit","t","messages","paid","paymentId","cardPaid","value","updateShippingMethod","shippingId","placeOrder","payId","payMethod","paymentChanged","paymentStatus","idata","console","log","paymentRef"],"sources":["/Users/souvitroy/Downloads/commercetools/ctools/src/presentation/fashion/PageCheckout/OrderOverview/OrderOverview.js"],"sourcesContent":["// @todo: add scrollbar\r\n// import VuePerfectScrollbar from \"vue-perfect-scrollbar\";\r\nimport Payment from 'presentation/PageCheckout/Payment/Payment.vue';\r\nimport PaymentMethod from './PaymentMethod/PaymentMethod.vue';\r\nimport BasePrice from 'presentation/components/BasePrice/BasePrice.vue';\r\nimport { useI18n } from 'vue-i18n';\r\nimport translation from \"./OrderOverview.json\"\r\nimport ShippingMethod from './ShippingMethod/ShippingMethod.vue';\r\nimport { ref } from 'vue';\r\nimport useCartTools from 'hooks/useCartTools';\r\n\r\nexport default {\r\n  props: {\r\n    showError: {\r\n      type: Boolean,\r\n      required: false,\r\n    },\r\n    cart: {\r\n      type: Object,\r\n      required: true,\r\n    },\r\n    paymentMethod: {\r\n      type: String,\r\n      required: true,\r\n    },\r\n  },\r\n  components: {\r\n    ShippingMethod,\r\n    BasePrice,\r\n    PaymentMethod,\r\n    Payment\r\n    // VuePerfectScrollbar,\r\n  },\r\n  setup(props, { emit }) {\r\n    const { t } = useI18n({\r\n      messages: translation\r\n    });\r\n    const paid = ref(true);\r\n    const paymentId = ref(null);\r\n    const paymentMethod = ref(null);\r\n    const cardPaid = (paymentId) => {\r\n      if (paymentId) {\r\n        paymentId.value = paymentId;\r\n      }\r\n      paid.value = true;\r\n    };\r\n    const updateShippingMethod = (shippingId) => {\r\n      emit('update-shipping', shippingId);\r\n    };\r\n    const placeOrder = () => {\r\n      emit('complete-order', { payId: paymentId.value, payMethod: paymentMethod.value });\r\n      //emit('complete-order', { payId: \"test ref\", payMethod: \"test card\" });\r\n    };\r\n    const paymentChanged = (value) =>\r\n      emit('payment-changed', value);\r\n\r\n    const paymentStatus = (idata) => {\r\n      console.log(idata)\r\n      //if (idata?.resultCode == \"Authorised\") {\r\n      paid.value = true;\r\n      paymentId.value = idata.paymentRef;\r\n      paymentMethod.value = idata.payMethod;\r\n\r\n      //}\r\n    }\r\n\r\n\r\n\r\n    return {\r\n      ...useCartTools(),\r\n      t,\r\n      cardPaid,\r\n      updateShippingMethod,\r\n      paymentId,\r\n      paid,\r\n      paymentMethod: props.paymentMethod,\r\n      paymentChanged,\r\n      placeOrder,\r\n      paymentStatus\r\n    };\r\n  },\r\n};\r\n"],"mappings":"AAAA;AACA;AACA,OAAOA,OAAO,MAAM,+CAA+C;AACnE,OAAOC,aAAa,MAAM,mCAAmC;AAC7D,OAAOC,SAAS,MAAM,iDAAiD;AACvE,SAASC,OAAO,QAAQ,UAAU;AAClC,OAAOC,WAAW,MAAM,sBAAsB;AAC9C,OAAOC,cAAc,MAAM,qCAAqC;AAChE,SAASC,GAAG,QAAQ,KAAK;AACzB,OAAOC,YAAY,MAAM,oBAAoB;AAE7C,eAAe;EACbC,KAAK,EAAE;IACLC,SAAS,EAAE;MACTC,IAAI,EAAEC,OAAO;MACbC,QAAQ,EAAE;IACZ,CAAC;IACDC,IAAI,EAAE;MACJH,IAAI,EAAEI,MAAM;MACZF,QAAQ,EAAE;IACZ,CAAC;IACDG,aAAa,EAAE;MACbL,IAAI,EAAEM,MAAM;MACZJ,QAAQ,EAAE;IACZ;EACF,CAAC;EACDK,UAAU,EAAE;IACVZ,cAAc;IACdH,SAAS;IACTD,aAAa;IACbD;IACA;EACF,CAAC;;EACDkB,KAAK,CAACV,KAAK,EAAE;IAAEW;EAAK,CAAC,EAAE;IACrB,MAAM;MAAEC;IAAE,CAAC,GAAGjB,OAAO,CAAC;MACpBkB,QAAQ,EAAEjB;IACZ,CAAC,CAAC;IACF,MAAMkB,IAAI,GAAGhB,GAAG,CAAC,IAAI,CAAC;IACtB,MAAMiB,SAAS,GAAGjB,GAAG,CAAC,IAAI,CAAC;IAC3B,MAAMS,aAAa,GAAGT,GAAG,CAAC,IAAI,CAAC;IAC/B,MAAMkB,QAAQ,GAAID,SAAS,IAAK;MAC9B,IAAIA,SAAS,EAAE;QACbA,SAAS,CAACE,KAAK,GAAGF,SAAS;MAC7B;MACAD,IAAI,CAACG,KAAK,GAAG,IAAI;IACnB,CAAC;IACD,MAAMC,oBAAoB,GAAIC,UAAU,IAAK;MAC3CR,IAAI,CAAC,iBAAiB,EAAEQ,UAAU,CAAC;IACrC,CAAC;IACD,MAAMC,UAAU,GAAG,MAAM;MACvBT,IAAI,CAAC,gBAAgB,EAAE;QAAEU,KAAK,EAAEN,SAAS,CAACE,KAAK;QAAEK,SAAS,EAAEf,aAAa,CAACU;MAAM,CAAC,CAAC;MAClF;IACF,CAAC;;IACD,MAAMM,cAAc,GAAIN,KAAK,IAC3BN,IAAI,CAAC,iBAAiB,EAAEM,KAAK,CAAC;IAEhC,MAAMO,aAAa,GAAIC,KAAK,IAAK;MAC/BC,OAAO,CAACC,GAAG,CAACF,KAAK,CAAC;MAClB;MACAX,IAAI,CAACG,KAAK,GAAG,IAAI;MACjBF,SAAS,CAACE,KAAK,GAAGQ,KAAK,CAACG,UAAU;MAClCrB,aAAa,CAACU,KAAK,GAAGQ,KAAK,CAACH,SAAS;;MAErC;IACF,CAAC;;IAID,OAAO;MACL,GAAGvB,YAAY,EAAE;MACjBa,CAAC;MACDI,QAAQ;MACRE,oBAAoB;MACpBH,SAAS;MACTD,IAAI;MACJP,aAAa,EAAEP,KAAK,CAACO,aAAa;MAClCgB,cAAc;MACdH,UAAU;MACVI;IACF,CAAC;EACH;AACF,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}