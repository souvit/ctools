{"ast":null,"code":"import { shallowRef } from 'vue';\nexport default {\n  props: {\n    vuelidate: {\n      type: Object,\n      required: true\n    },\n    onSubmit: {\n      type: Function,\n      required: true\n    }\n  },\n  setup(props) {\n    const state = shallowRef(null);\n    const error = shallowRef(null);\n    function submit() {\n      props.vuelidate.$touch();\n      error.value = null;\n      if (!props.vuelidate.$invalid) {\n        state.value = 'loading';\n        return props.onSubmit().then(() => {\n          state.value = 'success';\n        }).catch(e => {\n          error.value = e;\n          state.value = null;\n        });\n      }\n    }\n    return {\n      state,\n      error,\n      submit\n    };\n  }\n};","map":{"version":3,"names":["shallowRef","props","vuelidate","type","Object","required","onSubmit","Function","setup","state","error","submit","$touch","value","$invalid","then","catch","e"],"sources":["/Users/souvitroy/Downloads/commercetools/ctools/src/presentation/fashion/components/BaseForm/BaseForm.js"],"sourcesContent":["import { shallowRef } from 'vue';\r\n\r\nexport default {\r\n  props: {\r\n    vuelidate: {\r\n      type: Object,\r\n      required: true,\r\n    },\r\n    onSubmit: {\r\n      type: Function,\r\n      required: true,\r\n    },\r\n  },\r\n  setup(props) {\r\n    const state = shallowRef(null);\r\n    const error = shallowRef(null);\r\n    function submit() {\r\n      props.vuelidate.$touch();\r\n      error.value = null;\r\n      if (!props.vuelidate.$invalid) {\r\n        state.value = 'loading';\r\n        return props\r\n          .onSubmit()\r\n          .then(() => {\r\n            state.value = 'success';\r\n          })\r\n          .catch((e) => {\r\n            error.value = e;\r\n            state.value = null;\r\n          });\r\n      }\r\n    }\r\n    return { state, error, submit };\r\n  },\r\n};\r\n"],"mappings":"AAAA,SAASA,UAAU,QAAQ,KAAK;AAEhC,eAAe;EACbC,KAAK,EAAE;IACLC,SAAS,EAAE;MACTC,IAAI,EAAEC,MAAM;MACZC,QAAQ,EAAE;IACZ,CAAC;IACDC,QAAQ,EAAE;MACRH,IAAI,EAAEI,QAAQ;MACdF,QAAQ,EAAE;IACZ;EACF,CAAC;EACDG,KAAK,CAACP,KAAK,EAAE;IACX,MAAMQ,KAAK,GAAGT,UAAU,CAAC,IAAI,CAAC;IAC9B,MAAMU,KAAK,GAAGV,UAAU,CAAC,IAAI,CAAC;IAC9B,SAASW,MAAM,GAAG;MAChBV,KAAK,CAACC,SAAS,CAACU,MAAM,EAAE;MACxBF,KAAK,CAACG,KAAK,GAAG,IAAI;MAClB,IAAI,CAACZ,KAAK,CAACC,SAAS,CAACY,QAAQ,EAAE;QAC7BL,KAAK,CAACI,KAAK,GAAG,SAAS;QACvB,OAAOZ,KAAK,CACTK,QAAQ,EAAE,CACVS,IAAI,CAAC,MAAM;UACVN,KAAK,CAACI,KAAK,GAAG,SAAS;QACzB,CAAC,CAAC,CACDG,KAAK,CAAEC,CAAC,IAAK;UACZP,KAAK,CAACG,KAAK,GAAGI,CAAC;UACfR,KAAK,CAACI,KAAK,GAAG,IAAI;QACpB,CAAC,CAAC;MACN;IACF;IACA,OAAO;MAAEJ,KAAK;MAAEC,KAAK;MAAEC;IAAO,CAAC;EACjC;AACF,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}