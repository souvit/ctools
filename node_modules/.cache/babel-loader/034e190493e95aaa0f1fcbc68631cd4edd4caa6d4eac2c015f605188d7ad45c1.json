{"ast":null,"code":"import { shallowRef, watch } from 'vue';\nimport { useI18n } from 'vue-i18n';\nimport translation from './Pay.json';\nimport { useRoute } from 'vue-router';\nimport useCart from '../../../../composition/useCart';\nimport useCartTools from '../../../../composition/useCartTools';\nexport default {\n  // props: {\n  //   payid: {\n  //     type: String,\n  //     required: true,\n  //   },\n  //   paymethod: {\n  //     type: String,\n  //     required: true,\n  //   }\n  // },\n  setup() {\n    const {\n      t\n    } = useI18n({\n      messages: translation\n    });\n    const orderComplete = shallowRef(false);\n    const route = useRoute();\n    const {\n      cart\n    } = useCart();\n    const cartTools = useCartTools();\n    const saved = shallowRef(false);\n    // const paymentRef = shallowRef(props.payid);\n    // const paymentMethod = shallowRef(props.paymethod);\n\n    watch([cart, saved], ([cart, s]) => {\n      if (cart && !s) {\n        saved.value = true;\n        console.log(\"routpara\", route.params);\n        cartTools.createMyOrderFromCart({\n          method: route.params.method,\n          payId: route.params.payid,\n          cart\n        }).then(() => {\n          orderComplete.value = true;\n        }).catch(error => console.warn('error:', error));\n      }\n    });\n    return {\n      t,\n      orderComplete\n    };\n  }\n};","map":{"version":3,"names":["shallowRef","watch","useI18n","translation","useRoute","useCart","useCartTools","setup","t","messages","orderComplete","route","cart","cartTools","saved","s","value","console","log","params","createMyOrderFromCart","method","payId","payid","then","catch","error","warn"],"sources":["/Users/souvitroy/Downloads/commercetools/ctools/src/presentation/fashion/Pay/Pay.js"],"sourcesContent":["import { shallowRef, watch } from 'vue';\r\nimport { useI18n } from 'vue-i18n';\r\nimport translation from './Pay.json'\r\nimport { useRoute } from 'vue-router';\r\nimport useCart from '../../../../composition/useCart';\r\nimport useCartTools from '../../../../composition/useCartTools';\r\n\r\nexport default {\r\n  // props: {\r\n  //   payid: {\r\n  //     type: String,\r\n  //     required: true,\r\n  //   },\r\n  //   paymethod: {\r\n  //     type: String,\r\n  //     required: true,\r\n  //   }\r\n  // },\r\n  setup() {\r\n    const { t } = useI18n({\r\n      messages: translation\r\n    });\r\n    const orderComplete = shallowRef(false);\r\n    const route = useRoute();\r\n    const { cart } = useCart();\r\n    const cartTools = useCartTools();\r\n    const saved = shallowRef(false);\r\n    // const paymentRef = shallowRef(props.payid);\r\n    // const paymentMethod = shallowRef(props.paymethod);\r\n\r\n    watch([cart, saved], ([cart, s]) => {\r\n      if (cart && !s) {\r\n        saved.value = true;\r\n        console.log(\"routpara\", route.params)\r\n        cartTools\r\n          .createMyOrderFromCart({\r\n            method: route.params.method,\r\n            payId: route.params.payid,\r\n            cart,\r\n          })\r\n          .then(() => {\r\n            orderComplete.value = true;\r\n          })\r\n          .catch((error) => console.warn('error:', error));\r\n      }\r\n    });\r\n\r\n    return { t, orderComplete };\r\n  },\r\n};\r\n"],"mappings":"AAAA,SAASA,UAAU,EAAEC,KAAK,QAAQ,KAAK;AACvC,SAASC,OAAO,QAAQ,UAAU;AAClC,OAAOC,WAAW,MAAM,YAAY;AACpC,SAASC,QAAQ,QAAQ,YAAY;AACrC,OAAOC,OAAO,MAAM,iCAAiC;AACrD,OAAOC,YAAY,MAAM,sCAAsC;AAE/D,eAAe;EACb;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACAC,KAAK,GAAG;IACN,MAAM;MAAEC;IAAE,CAAC,GAAGN,OAAO,CAAC;MACpBO,QAAQ,EAAEN;IACZ,CAAC,CAAC;IACF,MAAMO,aAAa,GAAGV,UAAU,CAAC,KAAK,CAAC;IACvC,MAAMW,KAAK,GAAGP,QAAQ,EAAE;IACxB,MAAM;MAAEQ;IAAK,CAAC,GAAGP,OAAO,EAAE;IAC1B,MAAMQ,SAAS,GAAGP,YAAY,EAAE;IAChC,MAAMQ,KAAK,GAAGd,UAAU,CAAC,KAAK,CAAC;IAC/B;IACA;;IAEAC,KAAK,CAAC,CAACW,IAAI,EAAEE,KAAK,CAAC,EAAE,CAAC,CAACF,IAAI,EAAEG,CAAC,CAAC,KAAK;MAClC,IAAIH,IAAI,IAAI,CAACG,CAAC,EAAE;QACdD,KAAK,CAACE,KAAK,GAAG,IAAI;QAClBC,OAAO,CAACC,GAAG,CAAC,UAAU,EAAEP,KAAK,CAACQ,MAAM,CAAC;QACrCN,SAAS,CACNO,qBAAqB,CAAC;UACrBC,MAAM,EAAEV,KAAK,CAACQ,MAAM,CAACE,MAAM;UAC3BC,KAAK,EAAEX,KAAK,CAACQ,MAAM,CAACI,KAAK;UACzBX;QACF,CAAC,CAAC,CACDY,IAAI,CAAC,MAAM;UACVd,aAAa,CAACM,KAAK,GAAG,IAAI;QAC5B,CAAC,CAAC,CACDS,KAAK,CAAEC,KAAK,IAAKT,OAAO,CAACU,IAAI,CAAC,QAAQ,EAAED,KAAK,CAAC,CAAC;MACpD;IACF,CAAC,CAAC;IAEF,OAAO;MAAElB,CAAC;MAAEE;IAAc,CAAC;EAC7B;AACF,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}