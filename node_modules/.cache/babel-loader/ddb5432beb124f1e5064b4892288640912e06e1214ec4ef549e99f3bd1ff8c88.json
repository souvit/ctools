{"ast":null,"code":"import { computed, onMounted, onUnmounted, provide, shallowRef, watch } from 'vue';\nimport { LOCALE } from '../../../../constants';\nimport { LOCATION } from '../../../../constants';\nimport { getValue } from '../../../../lib';\nimport i18n from '../../../../i18n';\nimport useMiniCart from 'hooks/useMinicart';\nimport MiniCart from 'presentation/Header/MiniCart/MiniCart.vue';\nimport useDefaultRouteParams from 'hooks/useDefaultRouteParams';\nexport default {\n  components: {\n    MiniCart\n  },\n  setup() {\n    const {\n      locale,\n      location,\n      setLocale,\n      setLocation\n    } = useDefaultRouteParams();\n    const {\n      close,\n      isOpen\n    } = useMiniCart();\n    const keyUpListener = shallowRef(e => {\n      if (e.key === 'Escape') {\n        close();\n      }\n    });\n    provide(LOCALE, {\n      locale,\n      setLocale\n    });\n    provide(LOCATION, {\n      location,\n      setLocation\n    });\n    const paramsSet = computed(() => getValue(locale) && getValue(location));\n    watch(paramsSet, set => {\n      if (set) {\n        i18n.global.locale = locale;\n      }\n    });\n    onMounted(() => {\n      document.body.addEventListener('keyup', keyUpListener.value);\n    });\n    onUnmounted(() => {\n      document.body.removeEventListener('keyup', keyUpListener.value);\n    });\n    return {\n      paramsSet,\n      isOpen,\n      close\n    };\n  }\n};","map":{"version":3,"names":["computed","onMounted","onUnmounted","provide","shallowRef","watch","LOCALE","LOCATION","getValue","i18n","useMiniCart","MiniCart","useDefaultRouteParams","components","setup","locale","location","setLocale","setLocation","close","isOpen","keyUpListener","e","key","paramsSet","set","global","document","body","addEventListener","value","removeEventListener"],"sources":["/Users/souvitroy/Downloads/commercetools/ctools/src/containers/views/Shop/Root/Root.js"],"sourcesContent":["import {\r\n  computed,\r\n  onMounted,\r\n  onUnmounted,\r\n  provide,\r\n  shallowRef,\r\n  watch,\r\n} from 'vue';\r\nimport { LOCALE } from '../../../../constants';\r\nimport { LOCATION } from '../../../../constants';\r\nimport { getValue } from '../../../../lib';\r\nimport i18n from '../../../../i18n';\r\nimport useMiniCart from 'hooks/useMinicart';\r\nimport MiniCart from 'presentation/Header/MiniCart/MiniCart.vue';\r\nimport useDefaultRouteParams from 'hooks/useDefaultRouteParams';\r\nexport default {\r\n  components: {\r\n    MiniCart,\r\n  },\r\n  setup() {\r\n    const { locale, location, setLocale, setLocation } =\r\n      useDefaultRouteParams();\r\n    const { close, isOpen } = useMiniCart();\r\n    const keyUpListener = shallowRef((e) => {\r\n      if (e.key === 'Escape') {\r\n        close();\r\n      }\r\n    });\r\n    provide(LOCALE, { locale, setLocale });\r\n    provide(LOCATION, { location, setLocation });\r\n    const paramsSet = computed(\r\n      () => getValue(locale) && getValue(location)\r\n    );\r\n    watch(paramsSet, (set) => {\r\n      if (set) {\r\n        i18n.global.locale = locale;\r\n      }\r\n    });\r\n    onMounted(() => {\r\n      document.body.addEventListener(\r\n        'keyup',\r\n        keyUpListener.value\r\n      );\r\n    });\r\n    onUnmounted(() => {\r\n      document.body.removeEventListener(\r\n        'keyup',\r\n        keyUpListener.value\r\n      );\r\n    });\r\n    return { paramsSet, isOpen, close };\r\n  },\r\n};\r\n"],"mappings":"AAAA,SACEA,QAAQ,EACRC,SAAS,EACTC,WAAW,EACXC,OAAO,EACPC,UAAU,EACVC,KAAK,QACA,KAAK;AACZ,SAASC,MAAM,QAAQ,uBAAuB;AAC9C,SAASC,QAAQ,QAAQ,uBAAuB;AAChD,SAASC,QAAQ,QAAQ,iBAAiB;AAC1C,OAAOC,IAAI,MAAM,kBAAkB;AACnC,OAAOC,WAAW,MAAM,mBAAmB;AAC3C,OAAOC,QAAQ,MAAM,2CAA2C;AAChE,OAAOC,qBAAqB,MAAM,6BAA6B;AAC/D,eAAe;EACbC,UAAU,EAAE;IACVF;EACF,CAAC;EACDG,KAAK,GAAG;IACN,MAAM;MAAEC,MAAM;MAAEC,QAAQ;MAAEC,SAAS;MAAEC;IAAY,CAAC,GAChDN,qBAAqB,EAAE;IACzB,MAAM;MAAEO,KAAK;MAAEC;IAAO,CAAC,GAAGV,WAAW,EAAE;IACvC,MAAMW,aAAa,GAAGjB,UAAU,CAAEkB,CAAC,IAAK;MACtC,IAAIA,CAAC,CAACC,GAAG,KAAK,QAAQ,EAAE;QACtBJ,KAAK,EAAE;MACT;IACF,CAAC,CAAC;IACFhB,OAAO,CAACG,MAAM,EAAE;MAAES,MAAM;MAAEE;IAAU,CAAC,CAAC;IACtCd,OAAO,CAACI,QAAQ,EAAE;MAAES,QAAQ;MAAEE;IAAY,CAAC,CAAC;IAC5C,MAAMM,SAAS,GAAGxB,QAAQ,CACxB,MAAMQ,QAAQ,CAACO,MAAM,CAAC,IAAIP,QAAQ,CAACQ,QAAQ,CAAC,CAC7C;IACDX,KAAK,CAACmB,SAAS,EAAGC,GAAG,IAAK;MACxB,IAAIA,GAAG,EAAE;QACPhB,IAAI,CAACiB,MAAM,CAACX,MAAM,GAAGA,MAAM;MAC7B;IACF,CAAC,CAAC;IACFd,SAAS,CAAC,MAAM;MACd0B,QAAQ,CAACC,IAAI,CAACC,gBAAgB,CAC5B,OAAO,EACPR,aAAa,CAACS,KAAK,CACpB;IACH,CAAC,CAAC;IACF5B,WAAW,CAAC,MAAM;MAChByB,QAAQ,CAACC,IAAI,CAACG,mBAAmB,CAC/B,OAAO,EACPV,aAAa,CAACS,KAAK,CACpB;IACH,CAAC,CAAC;IACF,OAAO;MAAEN,SAAS;MAAEJ,MAAM;MAAED;IAAM,CAAC;EACrC;AACF,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}