{"ast":null,"code":"// import CategoriesMenu from \"../CategoriesMenu\";\nimport LoginButton from './LoginButton/LoginButton.vue';\n// import LocationSelector from \"../LocationSelector/LocationSelector.vue\";\n\nimport Selector from './Selector/Selector.vue';\nimport CategoriesMenu from 'presentation/components/CategoriesMenu';\nimport { useI18n } from 'vue-i18n';\nimport transtation from './Header.json';\nimport { computed, ref, shallowRef } from 'vue';\nimport useSearch from 'hooks/useSearch';\nimport useLocale from 'hooks/useLocale';\nimport useLocation from 'hooks/useLocation';\nimport useCart from 'hooks/useCart';\nimport useMiniCart from 'hooks/useMinicart';\nimport sunriseConfig from '../../../../sunrise.config';\nimport useAccessRules from 'hooks/useAccessRules';\nexport default {\n  name: 'HeaderPresentation',\n  setup() {\n    const locale = useLocale();\n    const location = useLocation();\n    const {\n      cart,\n      exist\n    } = useCart();\n    const {\n      search: s,\n      setSearch\n    } = useSearch();\n    const search = shallowRef(s.value);\n    const totalCartItems = computed(() => exist.value && cart.value ? cart.value.lineItems.map(({\n      quantity\n    }) => quantity).reduce((sum, q) => sum + q, 0) : 0);\n    const locations = Object.keys(sunriseConfig.countries);\n    const locales = Object.keys(sunriseConfig.languages);\n    const miniCart = useMiniCart();\n\n    //@todo: what do we do with this one? Do we have to get this every time?\n    const {\n      t\n    } = useI18n({\n      messages: transtation\n    });\n    const searchOpen = ref(false);\n    // const mobileMenuOpen = ref(false);\n\n    const toggleSearch = () => {\n      searchOpen.value = !searchOpen.value;\n    };\n    const doSearch = () => {\n      toggleSearch();\n      setSearch(search.value);\n    };\n    const {\n      showStoreSelector,\n      showLocationSelector\n    } = useAccessRules();\n    return {\n      t,\n      doSearch,\n      toggleSearch,\n      searchOpen,\n      ...locale,\n      miniCart,\n      locales,\n      ...location,\n      locations,\n      search,\n      setSearch,\n      totalCartItems,\n      showStoreSelector,\n      showLocationSelector,\n      totalShoppingCartItems: 0 //@todo: need this one??\n    };\n  },\n\n  components: {\n    Selector,\n    CategoriesMenu,\n    LoginButton\n  }\n};","map":{"version":3,"names":["LoginButton","Selector","CategoriesMenu","useI18n","transtation","computed","ref","shallowRef","useSearch","useLocale","useLocation","useCart","useMiniCart","sunriseConfig","useAccessRules","name","setup","locale","location","cart","exist","search","s","setSearch","value","totalCartItems","lineItems","map","quantity","reduce","sum","q","locations","Object","keys","countries","locales","languages","miniCart","t","messages","searchOpen","toggleSearch","doSearch","showStoreSelector","showLocationSelector","totalShoppingCartItems","components"],"sources":["/Users/souvitroy/Downloads/commercetools/ctools/src/presentation/fashion/Header/Header.js"],"sourcesContent":["// import CategoriesMenu from \"../CategoriesMenu\";\r\nimport LoginButton from './LoginButton/LoginButton.vue';\r\n// import LocationSelector from \"../LocationSelector/LocationSelector.vue\";\r\n\r\nimport Selector from './Selector/Selector.vue';\r\nimport CategoriesMenu from 'presentation/components/CategoriesMenu';\r\nimport { useI18n } from 'vue-i18n';\r\nimport transtation from './Header.json'\r\nimport { computed, ref, shallowRef } from 'vue';\r\nimport useSearch from 'hooks/useSearch';\r\nimport useLocale from 'hooks/useLocale';\r\nimport useLocation from 'hooks/useLocation';\r\nimport useCart from 'hooks/useCart';\r\nimport useMiniCart from 'hooks/useMinicart';\r\nimport sunriseConfig from '../../../../sunrise.config';\r\nimport useAccessRules from 'hooks/useAccessRules';\r\n\r\nexport default {\r\n  name: 'HeaderPresentation',\r\n  setup() {\r\n    const locale = useLocale();\r\n    const location = useLocation();\r\n    const { cart, exist } = useCart();\r\n    const { search: s, setSearch } = useSearch();\r\n    const search = shallowRef(s.value);\r\n    const totalCartItems = computed(() =>\r\n      exist.value && cart.value\r\n        ? cart.value.lineItems\r\n          .map(({ quantity }) => quantity)\r\n          .reduce((sum, q) => sum + q, 0)\r\n        : 0\r\n    );\r\n    const locations = Object.keys(sunriseConfig.countries);\r\n    const locales = Object.keys(sunriseConfig.languages);\r\n    const miniCart = useMiniCart();\r\n\r\n    //@todo: what do we do with this one? Do we have to get this every time?\r\n    const { t } = useI18n({\r\n      messages: transtation\r\n    });\r\n    const searchOpen = ref(false);\r\n    // const mobileMenuOpen = ref(false);\r\n\r\n    const toggleSearch = () => {\r\n      searchOpen.value = !searchOpen.value;\r\n    };\r\n    const doSearch = () => {\r\n      toggleSearch();\r\n      setSearch(search.value);\r\n    };\r\n    const { showStoreSelector, showLocationSelector } =\r\n      useAccessRules();\r\n    return {\r\n      t,\r\n      doSearch,\r\n      toggleSearch,\r\n      searchOpen,\r\n      ...locale,\r\n      miniCart,\r\n      locales,\r\n      ...location,\r\n      locations,\r\n      search,\r\n      setSearch,\r\n      totalCartItems,\r\n      showStoreSelector,\r\n      showLocationSelector,\r\n      totalShoppingCartItems: 0, //@todo: need this one??\r\n    };\r\n  },\r\n  components: {\r\n    Selector,\r\n    CategoriesMenu,\r\n    LoginButton,\r\n  },\r\n};\r\n"],"mappings":"AAAA;AACA,OAAOA,WAAW,MAAM,+BAA+B;AACvD;;AAEA,OAAOC,QAAQ,MAAM,yBAAyB;AAC9C,OAAOC,cAAc,MAAM,wCAAwC;AACnE,SAASC,OAAO,QAAQ,UAAU;AAClC,OAAOC,WAAW,MAAM,eAAe;AACvC,SAASC,QAAQ,EAAEC,GAAG,EAAEC,UAAU,QAAQ,KAAK;AAC/C,OAAOC,SAAS,MAAM,iBAAiB;AACvC,OAAOC,SAAS,MAAM,iBAAiB;AACvC,OAAOC,WAAW,MAAM,mBAAmB;AAC3C,OAAOC,OAAO,MAAM,eAAe;AACnC,OAAOC,WAAW,MAAM,mBAAmB;AAC3C,OAAOC,aAAa,MAAM,4BAA4B;AACtD,OAAOC,cAAc,MAAM,sBAAsB;AAEjD,eAAe;EACbC,IAAI,EAAE,oBAAoB;EAC1BC,KAAK,GAAG;IACN,MAAMC,MAAM,GAAGR,SAAS,EAAE;IAC1B,MAAMS,QAAQ,GAAGR,WAAW,EAAE;IAC9B,MAAM;MAAES,IAAI;MAAEC;IAAM,CAAC,GAAGT,OAAO,EAAE;IACjC,MAAM;MAAEU,MAAM,EAAEC,CAAC;MAAEC;IAAU,CAAC,GAAGf,SAAS,EAAE;IAC5C,MAAMa,MAAM,GAAGd,UAAU,CAACe,CAAC,CAACE,KAAK,CAAC;IAClC,MAAMC,cAAc,GAAGpB,QAAQ,CAAC,MAC9Be,KAAK,CAACI,KAAK,IAAIL,IAAI,CAACK,KAAK,GACrBL,IAAI,CAACK,KAAK,CAACE,SAAS,CACnBC,GAAG,CAAC,CAAC;MAAEC;IAAS,CAAC,KAAKA,QAAQ,CAAC,CAC/BC,MAAM,CAAC,CAACC,GAAG,EAAEC,CAAC,KAAKD,GAAG,GAAGC,CAAC,EAAE,CAAC,CAAC,GAC/B,CAAC,CACN;IACD,MAAMC,SAAS,GAAGC,MAAM,CAACC,IAAI,CAACrB,aAAa,CAACsB,SAAS,CAAC;IACtD,MAAMC,OAAO,GAAGH,MAAM,CAACC,IAAI,CAACrB,aAAa,CAACwB,SAAS,CAAC;IACpD,MAAMC,QAAQ,GAAG1B,WAAW,EAAE;;IAE9B;IACA,MAAM;MAAE2B;IAAE,CAAC,GAAGpC,OAAO,CAAC;MACpBqC,QAAQ,EAAEpC;IACZ,CAAC,CAAC;IACF,MAAMqC,UAAU,GAAGnC,GAAG,CAAC,KAAK,CAAC;IAC7B;;IAEA,MAAMoC,YAAY,GAAG,MAAM;MACzBD,UAAU,CAACjB,KAAK,GAAG,CAACiB,UAAU,CAACjB,KAAK;IACtC,CAAC;IACD,MAAMmB,QAAQ,GAAG,MAAM;MACrBD,YAAY,EAAE;MACdnB,SAAS,CAACF,MAAM,CAACG,KAAK,CAAC;IACzB,CAAC;IACD,MAAM;MAAEoB,iBAAiB;MAAEC;IAAqB,CAAC,GAC/C/B,cAAc,EAAE;IAClB,OAAO;MACLyB,CAAC;MACDI,QAAQ;MACRD,YAAY;MACZD,UAAU;MACV,GAAGxB,MAAM;MACTqB,QAAQ;MACRF,OAAO;MACP,GAAGlB,QAAQ;MACXc,SAAS;MACTX,MAAM;MACNE,SAAS;MACTE,cAAc;MACdmB,iBAAiB;MACjBC,oBAAoB;MACpBC,sBAAsB,EAAE,CAAC,CAAE;IAC7B,CAAC;EACH,CAAC;;EACDC,UAAU,EAAE;IACV9C,QAAQ;IACRC,cAAc;IACdF;EACF;AACF,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}