{"ast":null,"code":"import { computed, shallowRef } from 'vue';\nimport { useI18n } from 'vue-i18n';\nimport transaltion from './DetailsSection.json';\nimport { getAttributeValue, productAttributes } from 'containers/lib';\nimport useLocale from 'hooks/useLocale';\nexport default {\n  props: {\n    currentVariant: {\n      type: Object,\n      required: true\n    }\n  },\n  setup(props) {\n    const {\n      t\n    } = useI18n({\n      messages: transaltion\n    });\n    const expanded = shallowRef([true, false]);\n    const {\n      locale\n    } = useLocale();\n    const attributes = computed(() => {\n      const attributes = props.currentVariant.attributesRaw.map(({\n        name,\n        value\n      }) => [name, getAttributeValue(value, locale.value)]);\n      return productAttributes(attributes, locale.value);\n    });\n    const openAccordion = e => {\n      const contextPanelGroup = window.$('.pdp-accord-toggle').parents('.panel-group-pdp');\n      const contextPanel = window.$(e.target).parents('.panel-default');\n      const contextButton = window.$('.accordion-plus', contextPanel);\n      contextButton.toggleClass('accordion-minus');\n      // Remove minus class on all other buttons\n      contextPanelGroup.find('.accordion-plus').not(contextButton).removeClass('accordion-minus');\n    };\n    const toggle = index => {\n      const copy = [...expanded.value];\n      copy[index] = !copy[index];\n      expanded.value = copy;\n    };\n    return {\n      expanded,\n      attributes,\n      openAccordion,\n      toggle,\n      t\n    };\n  }\n};","map":{"version":3,"names":["computed","shallowRef","useI18n","transaltion","getAttributeValue","productAttributes","useLocale","props","currentVariant","type","Object","required","setup","t","messages","expanded","locale","attributes","attributesRaw","map","name","value","openAccordion","e","contextPanelGroup","window","$","parents","contextPanel","target","contextButton","toggleClass","find","not","removeClass","toggle","index","copy"],"sources":["/Users/souvitroy/Downloads/commercetools/ctools/src/presentation/fashion/PageProductDetail/ProductInfo/DetailsSection/DetailsSection.js"],"sourcesContent":["import { computed, shallowRef } from 'vue';\r\nimport { useI18n } from 'vue-i18n';\r\nimport transaltion from './DetailsSection.json'\r\nimport {\r\n  getAttributeValue,\r\n  productAttributes,\r\n} from 'containers/lib';\r\nimport useLocale from 'hooks/useLocale';\r\n\r\nexport default {\r\n  props: {\r\n    currentVariant: {\r\n      type: Object,\r\n      required: true,\r\n    },\r\n  },\r\n  setup(props) {\r\n    const { t } = useI18n({\r\n      messages: transaltion\r\n    });\r\n    const expanded = shallowRef([true, false]);\r\n    const { locale } = useLocale();\r\n    const attributes = computed(() => {\r\n      const attributes =\r\n        props.currentVariant.attributesRaw.map(\r\n          ({ name, value }) => [\r\n            name,\r\n            getAttributeValue(value, locale.value),\r\n          ]\r\n        );\r\n      return productAttributes(attributes, locale.value);\r\n    });\r\n    const openAccordion = (e) => {\r\n      const contextPanelGroup = window\r\n        .$('.pdp-accord-toggle')\r\n        .parents('.panel-group-pdp');\r\n      const contextPanel = window\r\n        .$(e.target)\r\n        .parents('.panel-default');\r\n      const contextButton = window.$(\r\n        '.accordion-plus',\r\n        contextPanel\r\n      );\r\n      contextButton.toggleClass('accordion-minus');\r\n      // Remove minus class on all other buttons\r\n      contextPanelGroup\r\n        .find('.accordion-plus')\r\n        .not(contextButton)\r\n        .removeClass('accordion-minus');\r\n    };\r\n    const toggle = (index) => {\r\n      const copy = [...expanded.value];\r\n      copy[index] = !copy[index];\r\n      expanded.value = copy;\r\n    };\r\n    return {\r\n      expanded,\r\n      attributes,\r\n      openAccordion,\r\n      toggle,\r\n      t,\r\n    };\r\n  },\r\n};\r\n"],"mappings":"AAAA,SAASA,QAAQ,EAAEC,UAAU,QAAQ,KAAK;AAC1C,SAASC,OAAO,QAAQ,UAAU;AAClC,OAAOC,WAAW,MAAM,uBAAuB;AAC/C,SACEC,iBAAiB,EACjBC,iBAAiB,QACZ,gBAAgB;AACvB,OAAOC,SAAS,MAAM,iBAAiB;AAEvC,eAAe;EACbC,KAAK,EAAE;IACLC,cAAc,EAAE;MACdC,IAAI,EAAEC,MAAM;MACZC,QAAQ,EAAE;IACZ;EACF,CAAC;EACDC,KAAK,CAACL,KAAK,EAAE;IACX,MAAM;MAAEM;IAAE,CAAC,GAAGX,OAAO,CAAC;MACpBY,QAAQ,EAAEX;IACZ,CAAC,CAAC;IACF,MAAMY,QAAQ,GAAGd,UAAU,CAAC,CAAC,IAAI,EAAE,KAAK,CAAC,CAAC;IAC1C,MAAM;MAAEe;IAAO,CAAC,GAAGV,SAAS,EAAE;IAC9B,MAAMW,UAAU,GAAGjB,QAAQ,CAAC,MAAM;MAChC,MAAMiB,UAAU,GACdV,KAAK,CAACC,cAAc,CAACU,aAAa,CAACC,GAAG,CACpC,CAAC;QAAEC,IAAI;QAAEC;MAAM,CAAC,KAAK,CACnBD,IAAI,EACJhB,iBAAiB,CAACiB,KAAK,EAAEL,MAAM,CAACK,KAAK,CAAC,CACvC,CACF;MACH,OAAOhB,iBAAiB,CAACY,UAAU,EAAED,MAAM,CAACK,KAAK,CAAC;IACpD,CAAC,CAAC;IACF,MAAMC,aAAa,GAAIC,CAAC,IAAK;MAC3B,MAAMC,iBAAiB,GAAGC,MAAM,CAC7BC,CAAC,CAAC,oBAAoB,CAAC,CACvBC,OAAO,CAAC,kBAAkB,CAAC;MAC9B,MAAMC,YAAY,GAAGH,MAAM,CACxBC,CAAC,CAACH,CAAC,CAACM,MAAM,CAAC,CACXF,OAAO,CAAC,gBAAgB,CAAC;MAC5B,MAAMG,aAAa,GAAGL,MAAM,CAACC,CAAC,CAC5B,iBAAiB,EACjBE,YAAY,CACb;MACDE,aAAa,CAACC,WAAW,CAAC,iBAAiB,CAAC;MAC5C;MACAP,iBAAiB,CACdQ,IAAI,CAAC,iBAAiB,CAAC,CACvBC,GAAG,CAACH,aAAa,CAAC,CAClBI,WAAW,CAAC,iBAAiB,CAAC;IACnC,CAAC;IACD,MAAMC,MAAM,GAAIC,KAAK,IAAK;MACxB,MAAMC,IAAI,GAAG,CAAC,GAAGtB,QAAQ,CAACM,KAAK,CAAC;MAChCgB,IAAI,CAACD,KAAK,CAAC,GAAG,CAACC,IAAI,CAACD,KAAK,CAAC;MAC1BrB,QAAQ,CAACM,KAAK,GAAGgB,IAAI;IACvB,CAAC;IACD,OAAO;MACLtB,QAAQ;MACRE,UAAU;MACVK,aAAa;MACba,MAAM;MACNtB;IACF,CAAC;EACH;AACF,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}