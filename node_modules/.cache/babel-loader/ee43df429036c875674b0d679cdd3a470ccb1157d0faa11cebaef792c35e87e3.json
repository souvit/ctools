{"ast":null,"code":"//this is only to demonstrate how it works, you should use a proxy\n//  in production:\n//  https://github.com/commercetools/sunrise-spa/blob/f7a1b591b05d919cc59f1bbca05adf6095334fe8/composition/useAccessRules.js#L35-L47\nimport ServerError from 'presentation/components/ServerError/ServerError.vue';\nimport BaseForm from 'presentation/components/BaseForm/BaseForm.vue';\nimport LoadingButton from 'presentation/components/LoadingButton/LoadingButton.vue';\nimport BaseInput from 'presentation/components/BaseInput/BaseInput.vue';\nimport { useI18n } from 'vue-i18n';\nimport transaltion from './ForgotPassword.json';\nimport useCustomerTools from 'hooks/useCustomerTools';\nimport useResetPasswordForm from 'hooks/useResetPasswordForm';\nexport default {\n  components: {\n    BaseForm,\n    BaseInput,\n    LoadingButton,\n    ServerError\n  },\n  setup() {\n    const {\n      createResetToken,\n      gotoResetToken\n    } = useCustomerTools();\n    const {\n      t\n    } = useI18n({\n      messages: transaltion\n    });\n    const {\n      form,\n      v\n    } = useResetPasswordForm();\n    const createToken = () => {\n      return createResetToken(form.value.email).then(result => gotoResetToken(result.data.customerCreatePasswordResetToken.value));\n    };\n    const getErrorMessage = ({\n      code\n    }) => {\n      if (code === 'InvalidSubject') {\n        return t('invalidSubject');\n      }\n      return t('unknownError');\n    };\n    return {\n      createToken,\n      getErrorMessage,\n      form,\n      v,\n      t\n    };\n  }\n};","map":{"version":3,"names":["ServerError","BaseForm","LoadingButton","BaseInput","useI18n","transaltion","useCustomerTools","useResetPasswordForm","components","setup","createResetToken","gotoResetToken","t","messages","form","v","createToken","value","email","then","result","data","customerCreatePasswordResetToken","getErrorMessage","code"],"sources":["/Users/souvitroy/Downloads/commercetools/ctools/src/presentation/fashion/Login/ForgotPassword/ForgotPassword.js"],"sourcesContent":["//this is only to demonstrate how it works, you should use a proxy\r\n//  in production:\r\n//  https://github.com/commercetools/sunrise-spa/blob/f7a1b591b05d919cc59f1bbca05adf6095334fe8/composition/useAccessRules.js#L35-L47\r\nimport ServerError from 'presentation/components/ServerError/ServerError.vue';\r\nimport BaseForm from 'presentation/components/BaseForm/BaseForm.vue';\r\nimport LoadingButton from 'presentation/components/LoadingButton/LoadingButton.vue';\r\nimport BaseInput from 'presentation/components/BaseInput/BaseInput.vue';\r\nimport { useI18n } from 'vue-i18n';\r\nimport transaltion from './ForgotPassword.json'\r\nimport useCustomerTools from 'hooks/useCustomerTools';\r\nimport useResetPasswordForm from 'hooks/useResetPasswordForm';\r\nexport default {\r\n  components: {\r\n    BaseForm,\r\n    BaseInput,\r\n    LoadingButton,\r\n    ServerError,\r\n  },\r\n  setup() {\r\n    const { createResetToken, gotoResetToken } =\r\n      useCustomerTools();\r\n    const { t } = useI18n({\r\n      messages: transaltion\r\n    });\r\n    const { form, v } = useResetPasswordForm();\r\n    const createToken = () => {\r\n      return createResetToken(form.value.email).then(\r\n        (result) =>\r\n          gotoResetToken(\r\n            result.data.customerCreatePasswordResetToken\r\n              .value\r\n          )\r\n      );\r\n    };\r\n    const getErrorMessage = ({ code }) => {\r\n      if (code === 'InvalidSubject') {\r\n        return t('invalidSubject');\r\n      }\r\n      return t('unknownError');\r\n    };\r\n\r\n    return { createToken, getErrorMessage, form, v, t };\r\n  },\r\n};\r\n"],"mappings":"AAAA;AACA;AACA;AACA,OAAOA,WAAW,MAAM,qDAAqD;AAC7E,OAAOC,QAAQ,MAAM,+CAA+C;AACpE,OAAOC,aAAa,MAAM,yDAAyD;AACnF,OAAOC,SAAS,MAAM,iDAAiD;AACvE,SAASC,OAAO,QAAQ,UAAU;AAClC,OAAOC,WAAW,MAAM,uBAAuB;AAC/C,OAAOC,gBAAgB,MAAM,wBAAwB;AACrD,OAAOC,oBAAoB,MAAM,4BAA4B;AAC7D,eAAe;EACbC,UAAU,EAAE;IACVP,QAAQ;IACRE,SAAS;IACTD,aAAa;IACbF;EACF,CAAC;EACDS,KAAK,GAAG;IACN,MAAM;MAAEC,gBAAgB;MAAEC;IAAe,CAAC,GACxCL,gBAAgB,EAAE;IACpB,MAAM;MAAEM;IAAE,CAAC,GAAGR,OAAO,CAAC;MACpBS,QAAQ,EAAER;IACZ,CAAC,CAAC;IACF,MAAM;MAAES,IAAI;MAAEC;IAAE,CAAC,GAAGR,oBAAoB,EAAE;IAC1C,MAAMS,WAAW,GAAG,MAAM;MACxB,OAAON,gBAAgB,CAACI,IAAI,CAACG,KAAK,CAACC,KAAK,CAAC,CAACC,IAAI,CAC3CC,MAAM,IACLT,cAAc,CACZS,MAAM,CAACC,IAAI,CAACC,gCAAgC,CACzCL,KAAK,CACT,CACJ;IACH,CAAC;IACD,MAAMM,eAAe,GAAG,CAAC;MAAEC;IAAK,CAAC,KAAK;MACpC,IAAIA,IAAI,KAAK,gBAAgB,EAAE;QAC7B,OAAOZ,CAAC,CAAC,gBAAgB,CAAC;MAC5B;MACA,OAAOA,CAAC,CAAC,cAAc,CAAC;IAC1B,CAAC;IAED,OAAO;MAAEI,WAAW;MAAEO,eAAe;MAAET,IAAI;MAAEC,CAAC;MAAEH;IAAE,CAAC;EACrD;AACF,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}