{"ast":null,"code":"import BasePrice from 'presentation/components/BasePrice/BasePrice.vue';\nimport { computed, shallowRef, watch } from 'vue';\nimport LineItemQuantityForm from 'presentation/components/LineItemQuantityForm/LineItemQuantityForm.vue';\nimport DiscountTag from 'presentation/components/DiscountTag/DiscountTag.vue';\nimport Remove from 'presentation/components/LineItemQuantityForm/Remove/Remove.vue';\nimport useCartTools from 'hooks/useCartTools';\nexport default {\n  components: {\n    LineItemQuantityForm,\n    Remove,\n    BasePrice,\n    DiscountTag\n  },\n  props: {\n    lineItem: {\n      type: Object,\n      required: true\n    },\n    extended: {\n      type: Boolean,\n      default: () => true\n    },\n    editable: {\n      type: Boolean,\n      default: () => true\n    },\n    selectable: {\n      type: Boolean,\n      default: () => false\n    },\n    returnedItem: {\n      type: Boolean,\n      default: () => false\n    },\n    discount: {\n      type: Object,\n      required: false\n    }\n  },\n  setup(props, {\n    emit\n  }) {\n    const selected = shallowRef(false);\n    const quantity = shallowRef(props.lineItem.quantity);\n    const item = computed(() => props.selectable ? {\n      lineItemId: props.lineItem.lineId,\n      quantity: quantity.value\n    } : null);\n    watch(item, item => {\n      if (item.quantity === '') {\n        return;\n      }\n      if (selected.value) {\n        const quantity = item.quantity;\n        if (quantity === 0) {\n          selected.value = false;\n        } else {\n          emit('select-return-item', item);\n        }\n      }\n    });\n    watch(selected, selected => {\n      if (selected === true) {\n        emit('select-return-item', item.value);\n      }\n      if (selected === false) {\n        emit('unselect-return-item', item.value);\n      }\n    });\n    return {\n      selected,\n      item,\n      quantity,\n      ...useCartTools()\n    };\n  }\n};","map":{"version":3,"names":["BasePrice","computed","shallowRef","watch","LineItemQuantityForm","DiscountTag","Remove","useCartTools","components","props","lineItem","type","Object","required","extended","Boolean","default","editable","selectable","returnedItem","discount","setup","emit","selected","quantity","item","lineItemId","lineId","value"],"sources":["/Users/souvitroy/Downloads/commercetools/ctools/src/presentation/fashion/CartDetail/CartLikeContentDetail/LineItemInfo/LineItemInfo.js"],"sourcesContent":["import BasePrice from 'presentation/components/BasePrice/BasePrice.vue';\r\nimport { computed, shallowRef, watch } from 'vue';\r\nimport LineItemQuantityForm from 'presentation/components/LineItemQuantityForm/LineItemQuantityForm.vue';\r\nimport DiscountTag from 'presentation/components/DiscountTag/DiscountTag.vue';\r\n\r\nimport Remove from 'presentation/components/LineItemQuantityForm/Remove/Remove.vue';\r\nimport useCartTools from 'hooks/useCartTools';\r\nexport default {\r\n  components: {\r\n    LineItemQuantityForm,\r\n    Remove,\r\n    BasePrice,\r\n    DiscountTag,\r\n  },\r\n  props: {\r\n    lineItem: {\r\n      type: Object,\r\n      required: true,\r\n    },\r\n    extended: {\r\n      type: Boolean,\r\n      default: () => true,\r\n    },\r\n    editable: {\r\n      type: Boolean,\r\n      default: () => true,\r\n    },\r\n    selectable: {\r\n      type: Boolean,\r\n      default: () => false,\r\n    },\r\n    returnedItem: {\r\n      type: Boolean,\r\n      default: () => false,\r\n    },\r\n    discount: {\r\n      type: Object,\r\n      required: false,\r\n    },\r\n  },\r\n  setup(props, { emit }) {\r\n    const selected = shallowRef(false);\r\n    const quantity = shallowRef(props.lineItem.quantity);\r\n    const item = computed(() =>\r\n      props.selectable\r\n        ? {\r\n            lineItemId: props.lineItem.lineId,\r\n            quantity: quantity.value,\r\n          }\r\n        : null\r\n    );\r\n    watch(item, (item) => {\r\n      if (item.quantity === '') {\r\n        return;\r\n      }\r\n      if (selected.value) {\r\n        const quantity = item.quantity;\r\n        if (quantity === 0) {\r\n          selected.value = false;\r\n        } else {\r\n          emit('select-return-item', item);\r\n        }\r\n      }\r\n    });\r\n    watch(selected, (selected) => {\r\n      if (selected === true) {\r\n        emit('select-return-item', item.value);\r\n      }\r\n      if (selected === false) {\r\n        emit('unselect-return-item', item.value);\r\n      }\r\n    });\r\n    return {\r\n      selected,\r\n      item,\r\n      quantity,\r\n      ...useCartTools(),\r\n    };\r\n  },\r\n};\r\n"],"mappings":"AAAA,OAAOA,SAAS,MAAM,iDAAiD;AACvE,SAASC,QAAQ,EAAEC,UAAU,EAAEC,KAAK,QAAQ,KAAK;AACjD,OAAOC,oBAAoB,MAAM,uEAAuE;AACxG,OAAOC,WAAW,MAAM,qDAAqD;AAE7E,OAAOC,MAAM,MAAM,gEAAgE;AACnF,OAAOC,YAAY,MAAM,oBAAoB;AAC7C,eAAe;EACbC,UAAU,EAAE;IACVJ,oBAAoB;IACpBE,MAAM;IACNN,SAAS;IACTK;EACF,CAAC;EACDI,KAAK,EAAE;IACLC,QAAQ,EAAE;MACRC,IAAI,EAAEC,MAAM;MACZC,QAAQ,EAAE;IACZ,CAAC;IACDC,QAAQ,EAAE;MACRH,IAAI,EAAEI,OAAO;MACbC,OAAO,EAAE,MAAM;IACjB,CAAC;IACDC,QAAQ,EAAE;MACRN,IAAI,EAAEI,OAAO;MACbC,OAAO,EAAE,MAAM;IACjB,CAAC;IACDE,UAAU,EAAE;MACVP,IAAI,EAAEI,OAAO;MACbC,OAAO,EAAE,MAAM;IACjB,CAAC;IACDG,YAAY,EAAE;MACZR,IAAI,EAAEI,OAAO;MACbC,OAAO,EAAE,MAAM;IACjB,CAAC;IACDI,QAAQ,EAAE;MACRT,IAAI,EAAEC,MAAM;MACZC,QAAQ,EAAE;IACZ;EACF,CAAC;EACDQ,KAAK,CAACZ,KAAK,EAAE;IAAEa;EAAK,CAAC,EAAE;IACrB,MAAMC,QAAQ,GAAGrB,UAAU,CAAC,KAAK,CAAC;IAClC,MAAMsB,QAAQ,GAAGtB,UAAU,CAACO,KAAK,CAACC,QAAQ,CAACc,QAAQ,CAAC;IACpD,MAAMC,IAAI,GAAGxB,QAAQ,CAAC,MACpBQ,KAAK,CAACS,UAAU,GACZ;MACEQ,UAAU,EAAEjB,KAAK,CAACC,QAAQ,CAACiB,MAAM;MACjCH,QAAQ,EAAEA,QAAQ,CAACI;IACrB,CAAC,GACD,IAAI,CACT;IACDzB,KAAK,CAACsB,IAAI,EAAGA,IAAI,IAAK;MACpB,IAAIA,IAAI,CAACD,QAAQ,KAAK,EAAE,EAAE;QACxB;MACF;MACA,IAAID,QAAQ,CAACK,KAAK,EAAE;QAClB,MAAMJ,QAAQ,GAAGC,IAAI,CAACD,QAAQ;QAC9B,IAAIA,QAAQ,KAAK,CAAC,EAAE;UAClBD,QAAQ,CAACK,KAAK,GAAG,KAAK;QACxB,CAAC,MAAM;UACLN,IAAI,CAAC,oBAAoB,EAAEG,IAAI,CAAC;QAClC;MACF;IACF,CAAC,CAAC;IACFtB,KAAK,CAACoB,QAAQ,EAAGA,QAAQ,IAAK;MAC5B,IAAIA,QAAQ,KAAK,IAAI,EAAE;QACrBD,IAAI,CAAC,oBAAoB,EAAEG,IAAI,CAACG,KAAK,CAAC;MACxC;MACA,IAAIL,QAAQ,KAAK,KAAK,EAAE;QACtBD,IAAI,CAAC,sBAAsB,EAAEG,IAAI,CAACG,KAAK,CAAC;MAC1C;IACF,CAAC,CAAC;IACF,OAAO;MACLL,QAAQ;MACRE,IAAI;MACJD,QAAQ;MACR,GAAGjB,YAAY;IACjB,CAAC;EACH;AACF,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}