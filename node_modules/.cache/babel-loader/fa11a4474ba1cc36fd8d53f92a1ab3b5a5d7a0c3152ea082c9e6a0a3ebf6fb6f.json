{"ast":null,"code":"import { computed, shallowRef, watch } from 'vue';\nimport { useI18n } from 'vue-i18n';\nimport translations from \"./BillingDetails.json\";\nimport BaseAddressForm from './BaseAddressForm/BaseAddressForm.vue';\nexport default {\n  props: {\n    billingAddress: {\n      type: Object,\n      required: false\n    },\n    shippingAddress: {\n      type: Object,\n      required: false\n    }\n  },\n  components: {\n    // BaseForm,\n    BaseAddressForm\n  },\n  setup(props, {\n    emit\n  }) {\n    const {\n      t\n    } = useI18n({\n      inheritLocale: true,\n      useScope: 'local',\n      messages: translations\n    });\n    const differentAddress = shallowRef(false);\n    const newBillingAddress = shallowRef(null);\n    const newShippingAddress = shallowRef(null);\n    const billingToJSON = computed(() => {\n      return JSON.stringify(newBillingAddress.value);\n    });\n    const shippingToJSON = computed(() => {\n      return JSON.stringify(newShippingAddress.value);\n    });\n    const unsetBillingAddress = () => {\n      return newBillingAddress.value = null;\n    };\n    const updateBillingAddress = address => {\n      newBillingAddress.value = address;\n    };\n    const updateShippingAddress = address => {\n      newShippingAddress.value = address;\n    };\n    const validBillingForm = valid => {\n      emit('valid-billing-form', valid);\n    };\n    const validShippingForm = valid => {\n      emit('valid-shipping-form', valid);\n    };\n    watch(differentAddress, () => {\n      if (!differentAddress.value) {\n        newShippingAddress.value = null;\n        validShippingForm(true);\n      } else {\n        validShippingForm(false);\n      }\n    });\n    watch(billingToJSON, () => {\n      emit('update-billing-details', newBillingAddress.value);\n    });\n    watch(shippingToJSON, () => {\n      emit('update-shipping-details', newShippingAddress.value);\n    });\n    return {\n      t,\n      billingToJSON,\n      shippingToJSON,\n      differentAddress,\n      newBillingAddress,\n      newShippingAddress,\n      unsetBillingAddress,\n      updateBillingAddress,\n      updateShippingAddress,\n      validBillingForm,\n      validShippingForm\n    };\n  }\n};","map":{"version":3,"names":["computed","shallowRef","watch","useI18n","translations","BaseAddressForm","props","billingAddress","type","Object","required","shippingAddress","components","setup","emit","t","inheritLocale","useScope","messages","differentAddress","newBillingAddress","newShippingAddress","billingToJSON","JSON","stringify","value","shippingToJSON","unsetBillingAddress","updateBillingAddress","address","updateShippingAddress","validBillingForm","valid","validShippingForm"],"sources":["/Users/souvitroy/Downloads/commercetools/ctools/src/presentation/fashion/PageCheckout/BillingDetails/BillingDetails.js"],"sourcesContent":["import { computed, shallowRef, watch } from 'vue';\r\nimport { useI18n } from 'vue-i18n';\r\nimport translations from \"./BillingDetails.json\"\r\nimport BaseAddressForm from './BaseAddressForm/BaseAddressForm.vue';\r\nexport default {\r\n  props: {\r\n    billingAddress: {\r\n      type: Object,\r\n      required: false,\r\n    },\r\n    shippingAddress: {\r\n      type: Object,\r\n      required: false,\r\n    },\r\n  },\r\n  components: {\r\n    // BaseForm,\r\n    BaseAddressForm,\r\n  },\r\n  setup(props, { emit }) {\r\n    const { t } = useI18n({\r\n      inheritLocale: true,\r\n      useScope: 'local',\r\n      messages: translations\r\n    });\r\n    const differentAddress = shallowRef(false);\r\n    const newBillingAddress = shallowRef(null);\r\n    const newShippingAddress = shallowRef(null);\r\n\r\n    const billingToJSON = computed(() => {\r\n      return JSON.stringify(newBillingAddress.value);\r\n    });\r\n    const shippingToJSON = computed(() => {\r\n      return JSON.stringify(newShippingAddress.value);\r\n    });\r\n    const unsetBillingAddress = () => {\r\n      return (newBillingAddress.value = null);\r\n    };\r\n    const updateBillingAddress = (address) => {\r\n      newBillingAddress.value = address;\r\n    };\r\n    const updateShippingAddress = (address) => {\r\n      newShippingAddress.value = address;\r\n    };\r\n    const validBillingForm = (valid) => {\r\n      emit('valid-billing-form', valid);\r\n    };\r\n    const validShippingForm = (valid) => {\r\n      emit('valid-shipping-form', valid);\r\n    };\r\n\r\n    watch(differentAddress, () => {\r\n      if (!differentAddress.value) {\r\n        newShippingAddress.value = null;\r\n        validShippingForm(true);\r\n      } else {\r\n        validShippingForm(false);\r\n      }\r\n    });\r\n    watch(billingToJSON, () => {\r\n      emit(\r\n        'update-billing-details',\r\n        newBillingAddress.value\r\n      );\r\n    });\r\n    watch(shippingToJSON, () => {\r\n      emit(\r\n        'update-shipping-details',\r\n        newShippingAddress.value\r\n      );\r\n    });\r\n\r\n    return {\r\n      t,\r\n      billingToJSON,\r\n      shippingToJSON,\r\n      differentAddress,\r\n      newBillingAddress,\r\n      newShippingAddress,\r\n      unsetBillingAddress,\r\n      updateBillingAddress,\r\n      updateShippingAddress,\r\n      validBillingForm,\r\n      validShippingForm,\r\n    };\r\n  },\r\n};\r\n"],"mappings":"AAAA,SAASA,QAAQ,EAAEC,UAAU,EAAEC,KAAK,QAAQ,KAAK;AACjD,SAASC,OAAO,QAAQ,UAAU;AAClC,OAAOC,YAAY,MAAM,uBAAuB;AAChD,OAAOC,eAAe,MAAM,uCAAuC;AACnE,eAAe;EACbC,KAAK,EAAE;IACLC,cAAc,EAAE;MACdC,IAAI,EAAEC,MAAM;MACZC,QAAQ,EAAE;IACZ,CAAC;IACDC,eAAe,EAAE;MACfH,IAAI,EAAEC,MAAM;MACZC,QAAQ,EAAE;IACZ;EACF,CAAC;EACDE,UAAU,EAAE;IACV;IACAP;EACF,CAAC;EACDQ,KAAK,CAACP,KAAK,EAAE;IAAEQ;EAAK,CAAC,EAAE;IACrB,MAAM;MAAEC;IAAE,CAAC,GAAGZ,OAAO,CAAC;MACpBa,aAAa,EAAE,IAAI;MACnBC,QAAQ,EAAE,OAAO;MACjBC,QAAQ,EAAEd;IACZ,CAAC,CAAC;IACF,MAAMe,gBAAgB,GAAGlB,UAAU,CAAC,KAAK,CAAC;IAC1C,MAAMmB,iBAAiB,GAAGnB,UAAU,CAAC,IAAI,CAAC;IAC1C,MAAMoB,kBAAkB,GAAGpB,UAAU,CAAC,IAAI,CAAC;IAE3C,MAAMqB,aAAa,GAAGtB,QAAQ,CAAC,MAAM;MACnC,OAAOuB,IAAI,CAACC,SAAS,CAACJ,iBAAiB,CAACK,KAAK,CAAC;IAChD,CAAC,CAAC;IACF,MAAMC,cAAc,GAAG1B,QAAQ,CAAC,MAAM;MACpC,OAAOuB,IAAI,CAACC,SAAS,CAACH,kBAAkB,CAACI,KAAK,CAAC;IACjD,CAAC,CAAC;IACF,MAAME,mBAAmB,GAAG,MAAM;MAChC,OAAQP,iBAAiB,CAACK,KAAK,GAAG,IAAI;IACxC,CAAC;IACD,MAAMG,oBAAoB,GAAIC,OAAO,IAAK;MACxCT,iBAAiB,CAACK,KAAK,GAAGI,OAAO;IACnC,CAAC;IACD,MAAMC,qBAAqB,GAAID,OAAO,IAAK;MACzCR,kBAAkB,CAACI,KAAK,GAAGI,OAAO;IACpC,CAAC;IACD,MAAME,gBAAgB,GAAIC,KAAK,IAAK;MAClClB,IAAI,CAAC,oBAAoB,EAAEkB,KAAK,CAAC;IACnC,CAAC;IACD,MAAMC,iBAAiB,GAAID,KAAK,IAAK;MACnClB,IAAI,CAAC,qBAAqB,EAAEkB,KAAK,CAAC;IACpC,CAAC;IAED9B,KAAK,CAACiB,gBAAgB,EAAE,MAAM;MAC5B,IAAI,CAACA,gBAAgB,CAACM,KAAK,EAAE;QAC3BJ,kBAAkB,CAACI,KAAK,GAAG,IAAI;QAC/BQ,iBAAiB,CAAC,IAAI,CAAC;MACzB,CAAC,MAAM;QACLA,iBAAiB,CAAC,KAAK,CAAC;MAC1B;IACF,CAAC,CAAC;IACF/B,KAAK,CAACoB,aAAa,EAAE,MAAM;MACzBR,IAAI,CACF,wBAAwB,EACxBM,iBAAiB,CAACK,KAAK,CACxB;IACH,CAAC,CAAC;IACFvB,KAAK,CAACwB,cAAc,EAAE,MAAM;MAC1BZ,IAAI,CACF,yBAAyB,EACzBO,kBAAkB,CAACI,KAAK,CACzB;IACH,CAAC,CAAC;IAEF,OAAO;MACLV,CAAC;MACDO,aAAa;MACbI,cAAc;MACdP,gBAAgB;MAChBC,iBAAiB;MACjBC,kBAAkB;MAClBM,mBAAmB;MACnBC,oBAAoB;MACpBE,qBAAqB;MACrBC,gBAAgB;MAChBE;IACF,CAAC;EACH;AACF,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}