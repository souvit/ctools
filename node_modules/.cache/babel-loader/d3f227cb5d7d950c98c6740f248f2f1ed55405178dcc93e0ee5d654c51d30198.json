{"ast":null,"code":"import BaseMoney from 'presentation/components/BaseMoney/BaseMoney.vue';\nimport BaseDate from 'presentation/components/BaseDate/BaseDate.vue';\nimport LineItemInfo from 'presentation/CartDetail/CartLikeContentDetail/LineItemInfo/LineItemInfo.vue';\nimport CartLikeContentDetail from 'presentation/CartDetail/CartLikeContentDetail/CartLikeContentDetail.vue';\nimport BaseAddress from 'presentation/components/BaseAddress/BaseAddress.vue';\nimport { computed } from 'vue';\nimport { useI18n } from 'vue-i18n';\nimport translation from './TabOrderDetail.json';\nimport useCustomerTools from 'hooks/useCustomerTools';\nimport useAccessRules from 'hooks/useAccessRules';\nexport default {\n  components: {\n    CartLikeContentDetail,\n    BaseDate,\n    BaseMoney,\n    BaseAddress,\n    LineItemInfo\n  },\n  computed: {\n    hasItemsAbleToReturn() {\n      return this.order.lineItems.length > 0 ? true : false;\n    }\n  },\n  props: {},\n  setup() {\n    const {\n      showReturnItemButton\n    } = useAccessRules();\n    const tools = useCustomerTools();\n    const {\n      t\n    } = useI18n({\n      messages: translation\n    });\n    const {\n      loading,\n      order\n    } = tools.useMyOrder();\n    const subtotal = computed(() => {\n      //@todo: is this not already done in cart tools?\n      if (order.value) {\n        const {\n          currencyCode,\n          fractionDigits\n        } = order.value.totalPrice;\n        return {\n          centAmount: order.value.lineItems.reduce((acc, li) => acc + li.totalPrice.centAmount, 0),\n          currencyCode,\n          fractionDigits\n        };\n      }\n      return null;\n    });\n    const paymentInfo = computed(() => {\n      return order.value?.paymentInfo?.payments?.[0]?.paymentStatus?.interfaceCode ? t(order.value?.paymentInfo?.payments?.[0]?.paymentStatus?.interfaceCode) : '';\n    });\n    return {\n      t,\n      subtotal,\n      paymentInfo,\n      order,\n      loading,\n      showReturnItemButton\n    };\n  }\n};","map":{"version":3,"names":["BaseMoney","BaseDate","LineItemInfo","CartLikeContentDetail","BaseAddress","computed","useI18n","translation","useCustomerTools","useAccessRules","components","hasItemsAbleToReturn","order","lineItems","length","props","setup","showReturnItemButton","tools","t","messages","loading","useMyOrder","subtotal","value","currencyCode","fractionDigits","totalPrice","centAmount","reduce","acc","li","paymentInfo","payments","paymentStatus","interfaceCode"],"sources":["/Users/souvitroy/Downloads/commercetools/ctools/src/presentation/fashion/User/TabOrderDetail/TabOrderDetail.js"],"sourcesContent":["import BaseMoney from 'presentation/components/BaseMoney/BaseMoney.vue';\r\nimport BaseDate from 'presentation/components/BaseDate/BaseDate.vue';\r\nimport LineItemInfo from 'presentation/CartDetail/CartLikeContentDetail/LineItemInfo/LineItemInfo.vue';\r\nimport CartLikeContentDetail from 'presentation/CartDetail/CartLikeContentDetail/CartLikeContentDetail.vue';\r\nimport BaseAddress from 'presentation/components/BaseAddress/BaseAddress.vue';\r\nimport { computed } from 'vue';\r\nimport { useI18n } from 'vue-i18n';\r\nimport translation from './TabOrderDetail.json'\r\nimport useCustomerTools from 'hooks/useCustomerTools';\r\nimport useAccessRules from 'hooks/useAccessRules';\r\n\r\nexport default {\r\n  components: {\r\n    CartLikeContentDetail,\r\n    BaseDate,\r\n    BaseMoney,\r\n    BaseAddress,\r\n    LineItemInfo,\r\n  },\r\n\r\n  computed: {\r\n    hasItemsAbleToReturn() {\r\n      return this.order.lineItems.length > 0 ? true : false;\r\n    },\r\n  },\r\n  props: {},\r\n  setup() {\r\n    const { showReturnItemButton } = useAccessRules();\r\n    const tools = useCustomerTools();\r\n    const { t } = useI18n({\r\n      messages: translation\r\n    });\r\n    const { loading, order } = tools.useMyOrder();\r\n    const subtotal = computed(() => {\r\n      //@todo: is this not already done in cart tools?\r\n      if (order.value) {\r\n        const { currencyCode, fractionDigits } =\r\n          order.value.totalPrice;\r\n        return {\r\n          centAmount: order.value.lineItems.reduce(\r\n            (acc, li) => acc + li.totalPrice.centAmount,\r\n            0\r\n          ),\r\n          currencyCode,\r\n          fractionDigits,\r\n        };\r\n      }\r\n      return null;\r\n    });\r\n    const paymentInfo = computed(() => {\r\n      return order.value?.paymentInfo?.payments?.[0]\r\n        ?.paymentStatus?.interfaceCode\r\n        ? t(\r\n          order.value?.paymentInfo?.payments?.[0]\r\n            ?.paymentStatus?.interfaceCode\r\n        )\r\n        : '';\r\n    });\r\n    return {\r\n      t,\r\n      subtotal,\r\n      paymentInfo,\r\n      order,\r\n      loading,\r\n      showReturnItemButton,\r\n    };\r\n  },\r\n};\r\n"],"mappings":"AAAA,OAAOA,SAAS,MAAM,iDAAiD;AACvE,OAAOC,QAAQ,MAAM,+CAA+C;AACpE,OAAOC,YAAY,MAAM,6EAA6E;AACtG,OAAOC,qBAAqB,MAAM,yEAAyE;AAC3G,OAAOC,WAAW,MAAM,qDAAqD;AAC7E,SAASC,QAAQ,QAAQ,KAAK;AAC9B,SAASC,OAAO,QAAQ,UAAU;AAClC,OAAOC,WAAW,MAAM,uBAAuB;AAC/C,OAAOC,gBAAgB,MAAM,wBAAwB;AACrD,OAAOC,cAAc,MAAM,sBAAsB;AAEjD,eAAe;EACbC,UAAU,EAAE;IACVP,qBAAqB;IACrBF,QAAQ;IACRD,SAAS;IACTI,WAAW;IACXF;EACF,CAAC;EAEDG,QAAQ,EAAE;IACRM,oBAAoB,GAAG;MACrB,OAAO,IAAI,CAACC,KAAK,CAACC,SAAS,CAACC,MAAM,GAAG,CAAC,GAAG,IAAI,GAAG,KAAK;IACvD;EACF,CAAC;EACDC,KAAK,EAAE,CAAC,CAAC;EACTC,KAAK,GAAG;IACN,MAAM;MAAEC;IAAqB,CAAC,GAAGR,cAAc,EAAE;IACjD,MAAMS,KAAK,GAAGV,gBAAgB,EAAE;IAChC,MAAM;MAAEW;IAAE,CAAC,GAAGb,OAAO,CAAC;MACpBc,QAAQ,EAAEb;IACZ,CAAC,CAAC;IACF,MAAM;MAAEc,OAAO;MAAET;IAAM,CAAC,GAAGM,KAAK,CAACI,UAAU,EAAE;IAC7C,MAAMC,QAAQ,GAAGlB,QAAQ,CAAC,MAAM;MAC9B;MACA,IAAIO,KAAK,CAACY,KAAK,EAAE;QACf,MAAM;UAAEC,YAAY;UAAEC;QAAe,CAAC,GACpCd,KAAK,CAACY,KAAK,CAACG,UAAU;QACxB,OAAO;UACLC,UAAU,EAAEhB,KAAK,CAACY,KAAK,CAACX,SAAS,CAACgB,MAAM,CACtC,CAACC,GAAG,EAAEC,EAAE,KAAKD,GAAG,GAAGC,EAAE,CAACJ,UAAU,CAACC,UAAU,EAC3C,CAAC,CACF;UACDH,YAAY;UACZC;QACF,CAAC;MACH;MACA,OAAO,IAAI;IACb,CAAC,CAAC;IACF,MAAMM,WAAW,GAAG3B,QAAQ,CAAC,MAAM;MACjC,OAAOO,KAAK,CAACY,KAAK,EAAEQ,WAAW,EAAEC,QAAQ,GAAG,CAAC,CAAC,EAC1CC,aAAa,EAAEC,aAAa,GAC5BhB,CAAC,CACDP,KAAK,CAACY,KAAK,EAAEQ,WAAW,EAAEC,QAAQ,GAAG,CAAC,CAAC,EACnCC,aAAa,EAAEC,aAAa,CACjC,GACC,EAAE;IACR,CAAC,CAAC;IACF,OAAO;MACLhB,CAAC;MACDI,QAAQ;MACRS,WAAW;MACXpB,KAAK;MACLS,OAAO;MACPJ;IACF,CAAC;EACH;AACF,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}