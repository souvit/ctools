{"ast":null,"code":"import { createRouter, createWebHistory } from 'vue-router';\nimport { CUSTOMER } from '../constants';\nimport routes from './routes';\nconst router = createRouter({\n  history: createWebHistory(),\n  routes\n});\nrouter.beforeEach(async (to, from, next) => {\n  const routeRequiresAuth = to.matched.some(record => record.meta.requiresAuth);\n  if (routeRequiresAuth && !localStorage.getItem(CUSTOMER)) {\n    next({\n      name: 'login'\n    });\n  } else {\n    next();\n  }\n});\nexport default router;","map":{"version":3,"names":["createRouter","createWebHistory","CUSTOMER","routes","router","history","beforeEach","to","from","next","routeRequiresAuth","matched","some","record","meta","requiresAuth","localStorage","getItem","name"],"sources":["/Users/souvitroy/Downloads/commercetools/ctools/src/router/index.js"],"sourcesContent":["import { createRouter, createWebHistory } from 'vue-router';\r\nimport { CUSTOMER } from '../constants';\r\nimport routes from './routes';\r\nconst router = createRouter({\r\n  history: createWebHistory(),\r\n  routes,\r\n});\r\nrouter.beforeEach(async (to, from, next) => {\r\n  const routeRequiresAuth = to.matched.some(\r\n    (record) => record.meta.requiresAuth\r\n  );\r\n  if (\r\n    routeRequiresAuth &&\r\n    !localStorage.getItem(CUSTOMER)\r\n  ) {\r\n    next({ name: 'login' });\r\n  } else {\r\n    next();\r\n  }\r\n});\r\nexport default router;\r\n"],"mappings":"AAAA,SAASA,YAAY,EAAEC,gBAAgB,QAAQ,YAAY;AAC3D,SAASC,QAAQ,QAAQ,cAAc;AACvC,OAAOC,MAAM,MAAM,UAAU;AAC7B,MAAMC,MAAM,GAAGJ,YAAY,CAAC;EAC1BK,OAAO,EAAEJ,gBAAgB,EAAE;EAC3BE;AACF,CAAC,CAAC;AACFC,MAAM,CAACE,UAAU,CAAC,OAAOC,EAAE,EAAEC,IAAI,EAAEC,IAAI,KAAK;EAC1C,MAAMC,iBAAiB,GAAGH,EAAE,CAACI,OAAO,CAACC,IAAI,CACtCC,MAAM,IAAKA,MAAM,CAACC,IAAI,CAACC,YAAY,CACrC;EACD,IACEL,iBAAiB,IACjB,CAACM,YAAY,CAACC,OAAO,CAACf,QAAQ,CAAC,EAC/B;IACAO,IAAI,CAAC;MAAES,IAAI,EAAE;IAAQ,CAAC,CAAC;EACzB,CAAC,MAAM;IACLT,IAAI,EAAE;EACR;AACF,CAAC,CAAC;AACF,eAAeL,MAAM"},"metadata":{},"sourceType":"module","externalDependencies":[]}