{"ast":null,"code":"import { required, numeric } from '@vuelidate/validators';\nimport useVuelidate from '@vuelidate/core';\nimport { shallowRef, ref } from 'vue';\nimport { useI18n } from 'vue-i18n';\nimport locale from \"./AddToCartForm.json\";\nimport BaseForm from 'presentation/components/BaseForm/BaseForm.vue';\nimport BaseInput from 'presentation/components/BaseInput/BaseInput.vue';\nimport ServerError from 'presentation/components/ServerError/ServerError.vue';\nimport useCartTools from 'hooks/useCartTools';\nfunction Rules() {\n  this.quantity = {\n    required,\n    numeric\n  };\n}\nexport default {\n  name: 'AddToCartForm',\n  props: {\n    sku: {\n      type: String,\n      required: true\n    },\n    isOnStock: {\n      type: Boolean,\n      required: true\n    },\n    availableQuantity: {\n      type: Number,\n      required: false\n    },\n    addCaption: {\n      type: String,\n      default: 'addToCart'\n    }\n  },\n  components: {\n    BaseForm,\n    ServerError,\n    BaseInput\n  },\n  setup(props) {\n    const {\n      t\n    } = useI18n({\n      messages: locale\n    });\n    const form = ref({\n      quantity: 1\n    });\n    const rules = new Rules(form);\n    const v = useVuelidate(rules, form);\n    const showQuantityError = shallowRef(false);\n    const {\n      addLine\n    } = useCartTools();\n    const addLineItem = () => addLine(props.sku, Number(form.value.quantity));\n    return {\n      t,\n      addLineItem,\n      v,\n      showQuantityError\n    };\n  }\n};","map":{"version":3,"names":["required","numeric","useVuelidate","shallowRef","ref","useI18n","locale","BaseForm","BaseInput","ServerError","useCartTools","Rules","quantity","name","props","sku","type","String","isOnStock","Boolean","availableQuantity","Number","addCaption","default","components","setup","t","messages","form","rules","v","showQuantityError","addLine","addLineItem","value"],"sources":["/Users/souvitroy/Downloads/commercetools/ctools/src/presentation/fashion/PageProductDetail/ProductInfo/AddToCartForm/AddToCartForm.js"],"sourcesContent":["import { required, numeric } from '@vuelidate/validators';\r\nimport useVuelidate from '@vuelidate/core';\r\n\r\nimport { shallowRef, ref } from 'vue';\r\nimport { useI18n } from 'vue-i18n';\r\nimport locale from \"./AddToCartForm.json\"\r\nimport BaseForm from 'presentation/components/BaseForm/BaseForm.vue';\r\nimport BaseInput from 'presentation/components/BaseInput/BaseInput.vue';\r\nimport ServerError from 'presentation/components/ServerError/ServerError.vue';\r\nimport useCartTools from 'hooks/useCartTools';\r\nfunction Rules() {\r\n  this.quantity = { required, numeric };\r\n}\r\n\r\nexport default {\r\n  name: 'AddToCartForm',\r\n  props: {\r\n    sku: {\r\n      type: String,\r\n      required: true,\r\n    },\r\n    isOnStock: {\r\n      type: Boolean,\r\n      required: true,\r\n    },\r\n    availableQuantity: {\r\n      type: Number,\r\n      required: false,\r\n    },\r\n    addCaption: {\r\n      type: String,\r\n      default: 'addToCart',\r\n    },\r\n  },\r\n  components: {\r\n    BaseForm,\r\n    ServerError,\r\n    BaseInput,\r\n  },\r\n  setup(props) {\r\n    const { t } = useI18n({\r\n      messages: locale\r\n    });\r\n    const form = ref({ quantity: 1 });\r\n    const rules = new Rules(form);\r\n    const v = useVuelidate(rules, form);\r\n    const showQuantityError = shallowRef(false);\r\n    const { addLine } = useCartTools();\r\n    const addLineItem = () =>\r\n      addLine(props.sku, Number(form.value.quantity));\r\n    return { t, addLineItem, v, showQuantityError };\r\n  },\r\n};\r\n"],"mappings":"AAAA,SAASA,QAAQ,EAAEC,OAAO,QAAQ,uBAAuB;AACzD,OAAOC,YAAY,MAAM,iBAAiB;AAE1C,SAASC,UAAU,EAAEC,GAAG,QAAQ,KAAK;AACrC,SAASC,OAAO,QAAQ,UAAU;AAClC,OAAOC,MAAM,MAAM,sBAAsB;AACzC,OAAOC,QAAQ,MAAM,+CAA+C;AACpE,OAAOC,SAAS,MAAM,iDAAiD;AACvE,OAAOC,WAAW,MAAM,qDAAqD;AAC7E,OAAOC,YAAY,MAAM,oBAAoB;AAC7C,SAASC,KAAK,GAAG;EACf,IAAI,CAACC,QAAQ,GAAG;IAAEZ,QAAQ;IAAEC;EAAQ,CAAC;AACvC;AAEA,eAAe;EACbY,IAAI,EAAE,eAAe;EACrBC,KAAK,EAAE;IACLC,GAAG,EAAE;MACHC,IAAI,EAAEC,MAAM;MACZjB,QAAQ,EAAE;IACZ,CAAC;IACDkB,SAAS,EAAE;MACTF,IAAI,EAAEG,OAAO;MACbnB,QAAQ,EAAE;IACZ,CAAC;IACDoB,iBAAiB,EAAE;MACjBJ,IAAI,EAAEK,MAAM;MACZrB,QAAQ,EAAE;IACZ,CAAC;IACDsB,UAAU,EAAE;MACVN,IAAI,EAAEC,MAAM;MACZM,OAAO,EAAE;IACX;EACF,CAAC;EACDC,UAAU,EAAE;IACVjB,QAAQ;IACRE,WAAW;IACXD;EACF,CAAC;EACDiB,KAAK,CAACX,KAAK,EAAE;IACX,MAAM;MAAEY;IAAE,CAAC,GAAGrB,OAAO,CAAC;MACpBsB,QAAQ,EAAErB;IACZ,CAAC,CAAC;IACF,MAAMsB,IAAI,GAAGxB,GAAG,CAAC;MAAEQ,QAAQ,EAAE;IAAE,CAAC,CAAC;IACjC,MAAMiB,KAAK,GAAG,IAAIlB,KAAK,CAACiB,IAAI,CAAC;IAC7B,MAAME,CAAC,GAAG5B,YAAY,CAAC2B,KAAK,EAAED,IAAI,CAAC;IACnC,MAAMG,iBAAiB,GAAG5B,UAAU,CAAC,KAAK,CAAC;IAC3C,MAAM;MAAE6B;IAAQ,CAAC,GAAGtB,YAAY,EAAE;IAClC,MAAMuB,WAAW,GAAG,MAClBD,OAAO,CAAClB,KAAK,CAACC,GAAG,EAAEM,MAAM,CAACO,IAAI,CAACM,KAAK,CAACtB,QAAQ,CAAC,CAAC;IACjD,OAAO;MAAEc,CAAC;MAAEO,WAAW;MAAEH,CAAC;MAAEC;IAAkB,CAAC;EACjD;AACF,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}